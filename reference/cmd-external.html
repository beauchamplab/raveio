<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>External shell commands for 'RAVE' — cmd_run_3dAllineate • raveio</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="External shell commands for 'RAVE' — cmd_run_3dAllineate"><meta name="description" content="These shell commands are for importing 'DICOM' images to
'Nifti' format, reconstructing cortical surfaces, and align' the CT' to
'MRI'. The commands are only tested on 'MacOS' and 'Linux'. On 'Windows'
machines, please use the 'WSL2' system."><meta property="og:description" content="These shell commands are for importing 'DICOM' images to
'Nifti' format, reconstructing cortical surfaces, and align' the CT' to
'MRI'. The commands are only tested on 'MacOS' and 'Linux'. On 'Windows'
machines, please use the 'WSL2' system."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">raveio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.94</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beauchamplab/raveio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>External shell commands for 'RAVE'</h1>
      <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/master/R/cmd-3dAlineate.R" class="external-link"><code>R/cmd-3dAlineate.R</code></a>, <a href="https://github.com/beauchamplab/raveio/blob/master/R/cmd-aaa.R" class="external-link"><code>R/cmd-aaa.R</code></a>, <a href="https://github.com/beauchamplab/raveio/blob/master/R/cmd-dcm2niix.R" class="external-link"><code>R/cmd-dcm2niix.R</code></a>, and 2 more</small>
      <div class="d-none name"><code>cmd-external.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These shell commands are for importing 'DICOM' images to
'Nifti' format, reconstructing cortical surfaces, and align' the CT' to
'MRI'. The commands are only tested on 'MacOS' and 'Linux'. On 'Windows'
machines, please use the 'WSL2' system.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cmd_run_3dAllineate</span><span class="op">(</span></span>
<span>  <span class="va">subject</span>,</span>
<span>  <span class="va">mri_path</span>,</span>
<span>  <span class="va">ct_path</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  command_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="va">dry_run</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cmd_execute</span><span class="op">(</span></span>
<span>  <span class="va">script</span>,</span>
<span>  <span class="va">script_path</span>,</span>
<span>  command <span class="op">=</span> <span class="st">"bash"</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  backup <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cmd_run_r</span><span class="op">(</span></span>
<span>  <span class="va">expr</span>,</span>
<span>  quoted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log_file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  script_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cmd_run_dcm2niix</span><span class="op">(</span></span>
<span>  <span class="va">subject</span>,</span>
<span>  <span class="va">src_path</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MRI"</span>, <span class="st">"CT"</span><span class="op">)</span>,</span>
<span>  merge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Auto"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span><span class="op">)</span>,</span>
<span>  float <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span><span class="op">)</span>,</span>
<span>  crop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Ignore"</span><span class="op">)</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  command_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="va">dry_run</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cmd_run_flirt</span><span class="op">(</span></span>
<span>  <span class="va">subject</span>,</span>
<span>  <span class="va">mri_path</span>,</span>
<span>  <span class="va">ct_path</span>,</span>
<span>  dof <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  cost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mutualinfo"</span>, <span class="st">"leastsq"</span>, <span class="st">"normcorr"</span>, <span class="st">"corratio"</span>, <span class="st">"normmi"</span>, <span class="st">"labeldiff"</span>, <span class="st">"bbr"</span><span class="op">)</span>,</span>
<span>  search <span class="op">=</span> <span class="fl">90</span>,</span>
<span>  searchcost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mutualinfo"</span>, <span class="st">"leastsq"</span>, <span class="st">"normcorr"</span>, <span class="st">"corratio"</span>, <span class="st">"normmi"</span>, <span class="st">"labeldiff"</span>,</span>
<span>    <span class="st">"bbr"</span><span class="op">)</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  command_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="va">dry_run</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cmd_run_recon_all</span><span class="op">(</span></span>
<span>  <span class="va">subject</span>,</span>
<span>  <span class="va">mri_path</span>,</span>
<span>  args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"-all"</span>, <span class="st">"-autorecon1"</span>, <span class="st">"-autorecon2"</span>, <span class="st">"-autorecon3"</span>, <span class="st">"-autorecon2-cp"</span>,</span>
<span>    <span class="st">"-autorecon2-wm"</span>, <span class="st">"-autorecon2-pial"</span><span class="op">)</span>,</span>
<span>  work_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  command_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="va">dry_run</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cmd_run_recon_all_clinical</span><span class="op">(</span></span>
<span>  <span class="va">subject</span>,</span>
<span>  <span class="va">mri_path</span>,</span>
<span>  work_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  command_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="va">dry_run</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-subject">subject<a class="anchor" aria-label="anchor" href="#arg-subject"></a></dt>
<dd><p>characters or a <code><a href="RAVESubject.html">RAVESubject</a></code> instance</p></dd>


<dt id="arg-mri-path">mri_path<a class="anchor" aria-label="anchor" href="#arg-mri-path"></a></dt>
<dd><p>the absolute to 'MRI' volume; must in 'Nifti' format</p></dd>


<dt id="arg-ct-path">ct_path<a class="anchor" aria-label="anchor" href="#arg-ct-path"></a></dt>
<dd><p>the absolute to 'CT' volume; must in 'Nifti' format</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>whether to overwrite existing files; default is false</p></dd>


<dt id="arg-command-path">command_path<a class="anchor" aria-label="anchor" href="#arg-command-path"></a></dt>
<dd><p>command line path if 'RAVE' cannot find the command
binary files</p></dd>


<dt id="arg-dry-run">dry_run<a class="anchor" aria-label="anchor" href="#arg-dry-run"></a></dt>
<dd><p>whether to run in dry-run mode; under such mode, the shell
command will not execute. This is useful for debugging scripts; default is
false</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>whether to print out the command script; default is true under
dry-run mode, and false otherwise</p></dd>


<dt id="arg-script">script<a class="anchor" aria-label="anchor" href="#arg-script"></a></dt>
<dd><p>the shell script</p></dd>


<dt id="arg-script-path">script_path<a class="anchor" aria-label="anchor" href="#arg-script-path"></a></dt>
<dd><p>path to run the script</p></dd>


<dt id="arg-command">command<a class="anchor" aria-label="anchor" href="#arg-command"></a></dt>
<dd><p>which command to invoke; default is <code>'bash'</code></p></dd>


<dt id="arg-backup">backup<a class="anchor" aria-label="anchor" href="#arg-backup"></a></dt>
<dd><p>whether to back up the script file immediately; default is true</p></dd>


<dt id="arg-args">args<a class="anchor" aria-label="anchor" href="#arg-args"></a></dt>
<dd><p>further arguments in the shell command, especially the
'FreeSurfer' reconstruction command</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>passed to <code><a href="https://rdrr.io/r/base/system2.html" class="external-link">system2</a></code>, or additional arguments</p></dd>


<dt id="arg-expr">expr<a class="anchor" aria-label="anchor" href="#arg-expr"></a></dt>
<dd><p>expression to run as command</p></dd>


<dt id="arg-quoted">quoted<a class="anchor" aria-label="anchor" href="#arg-quoted"></a></dt>
<dd><p>whether <code>expr</code> is quoted; default is false</p></dd>


<dt id="arg-log-file">log_file<a class="anchor" aria-label="anchor" href="#arg-log-file"></a></dt>
<dd><p>where should log file be stored</p></dd>


<dt id="arg-src-path">src_path<a class="anchor" aria-label="anchor" href="#arg-src-path"></a></dt>
<dd><p>source of the 'DICOM' or 'Nifti' image (absolute path)</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>type of the 'DICOM' or 'Nifti' image; choices are <code>'MRI'</code>
and <code>'CT'</code></p></dd>


<dt id="arg-merge-float-crop">merge, float, crop<a class="anchor" aria-label="anchor" href="#arg-merge-float-crop"></a></dt>
<dd><p><code>'dcm2niix'</code> conversion arguments; ignored when
the source is in 'Nifti' format</p></dd>


<dt id="arg-dof-cost-search-searchcost">dof, cost, search, searchcost<a class="anchor" aria-label="anchor" href="#arg-dof-cost-search-searchcost"></a></dt>
<dd><p>parameters used by 'FSL' <code>'flirt'</code>
command; see their documentation for details</p></dd>


<dt id="arg-work-path">work_path<a class="anchor" aria-label="anchor" href="#arg-work-path"></a></dt>
<dd><p>work path for 'FreeSurfer' command;</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of data containing the script details:</p><dl><dt><code>script</code></dt>
<dd><p>script details</p></dd>

<dt><code>script_path</code></dt>
<dd><p>where the script should/will be saved</p></dd>

<dt><code>dry_run</code></dt>
<dd><p>whether dry-run mode is turned on</p></dd>

<dt><code>log_file</code></dt>
<dd><p>path to the log file</p></dd>

<dt><code>execute</code></dt>
<dd><p>a function to execute the script</p></dd>


</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang, John Magnotti, Michael Beauchamp.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

