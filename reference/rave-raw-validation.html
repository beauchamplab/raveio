<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Validate raw files in 'rave' directory — rave-raw-validation • raveio</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Validate raw files in 'rave' directory — rave-raw-validation"><meta property="og:description" content="Validate subjects and returns whether the subject can be
imported into 'rave'"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raveio</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.5.9012</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/beauchamplab/raveio/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Validate raw files in 'rave' directory</h1>
    <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/HEAD/R/rave-raw.R" class="external-link"><code>R/rave-raw.R</code></a></small>
    <div class="hidden name"><code>rave-raw-validation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Validate subjects and returns whether the subject can be
imported into 'rave'</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">validate_raw_file</span><span class="op">(</span>
  <span class="va">subject_code</span>,
  <span class="va">blocks</span>,
  <span class="va">electrodes</span>,
  <span class="va">format</span>,
  data_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"continuous"</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="va">IMPORT_FORMATS</span></code></pre></div>
    </div>

    <div id="format">
    <h2>Format</h2>
    <p>An object of class <code>list</code> of length 6.</p>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>subject_code</dt>
<dd><p>subject code, direct folder under 'rave' raw data path</p></dd>
<dt>blocks</dt>
<dd><p>block character, direct folder under subject folder. For raw
files following 'BIDS' convention, see details</p></dd>
<dt>electrodes</dt>
<dd><p>electrodes to verify</p></dd>
<dt>format</dt>
<dd><p>integer or character. For characters, run
<code>names(IMPORT_FORMATS)</code></p></dd>
<dt>data_type</dt>
<dd><p>currently only support continuous type of signals</p></dd>
<dt>...</dt>
<dd><p>other parameters used if validating <code>'BIDS'</code> format; see
details.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>logical true or false whether the directory is valid. Attributes
containing error reasons or snapshot of the data. The attributes might be:</p>
<dl><dt><code>snapshot</code></dt>
<dd><p>description of data found if passing the
validation</p></dd>
<dt><code>valid_run_names</code></dt>
<dd><p>For 'BIDS' format, valid
<code>session+task+run</code> name if passing the validation</p></dd>
<dt><code>reason</code></dt>
<dd><p>named list where the names are the
reason why validation fails and values are corresponding sessions
or electrodes or both.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Six types of raw file structures are supported. They can be basically
classified into two categories: 'rave' native raw structure and
'BIDS-iEEG' structure.</p>
<p>In 'rave' native structure, subject folders
are stored within the root directory, which can be obtained via
<code>raveio_getopt('raw_data_dir')</code>. Subject directory is the subject code.
Inside of subject folder are block files. In 'rave', term 'block'
is the combination of session, task, and run. Within each block, there
should be 'iEEG' data files.</p>
<p>In 'BIDS-iEEG' format, the root directory can be obtained via
<code>raveio_getopt('bids_data_dir')</code>. 'BIDS' root folder contains
project folders. This is unlike 'rave' native raw data format.
Subject folders are stored within the project directories.
The subject folders start with <code>'sub-'</code>. Within subject
folder, there are session folders with prefix <code>'ses-'</code>. Session
folders are optional. 'iEEG' data is stored in <code>'ieeg'</code> folder under
the session/subject folder. <code>'ieeg'</code> folder should contain at least</p><dl><dt>electrodes.tsv</dt>
<dd><p><code>sub-&lt;label&gt;*_electrodes.tsv</code></p></dd>

<dt>'iEEG' description</dt>
<dd><p><code>sub-&lt;label&gt;*_task-&lt;label&gt;_run-&lt;index&gt;_ieeg.json</code></p></dd>

<dt>'iEEG' data file</dt>
<dd><p><code>sub-&lt;label&gt;*_task-&lt;label&gt;_run-&lt;index&gt;_ieeg.&lt;ext&gt;</code>, in current
  'rave', only extensions <code>'.vhdr+.eeg/.dat'</code> ('BrainVision') or 'EDF'
  (or plus) are supported.</p></dd>


</dl><p>When format is 'BIDS', <code>project_name</code> must be specified.</p>
<p>The following formats are supported:</p><dl><dt><code>'.mat/.h5 file per electrode per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains multiple
  'Matlab' or 'HDF5' files. Each file corresponds to a channel/electrode.
  File names should follow <code>'xxx001.mat'</code> or <code>'xxx001.h5'</code>. The
  numbers before the extension are channel numbers.</p></dd>

<dt><code>'Single .mat/.h5 file per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains <strong>only</strong> one
  'Matlab' or 'HDF5' file. The file name can be arbitrary, but extension
  must be either <code>'.mat'</code> or <code>'.h5'</code>. Within the file there should
  be a matrix containing all the data. The short dimension of the matrix
  will be channels, and larger side of the dimension corresponds to the
  time points.</p></dd>

<dt><code>'Single EDF(+) file per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains <strong>only</strong> one
  <code>'.edf'</code> file.</p></dd>

<dt><code>'Single BrainVision file (.vhdr+.eeg, .vhdr+.dat) per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains <strong>only</strong> two
  files. The first file is header <code>'.vhdr'</code> file. It contains
  all meta information. The second is either <code>'.eeg'</code> or <code>'.dat'</code>
  file containing the body, i.e. signal entries.</p></dd>

<dt><code>'BIDS &amp; EDF(+)'</code></dt>
<dd><p>'BIDS' format. The data file should have <code>'.edf'</code> extension</p></dd>

<dt><code>'BIDS &amp; BrainVision (.vhdr+.eeg, .vhdr+.dat)'</code></dt>
<dd><p>'BIDS' format. The data file should have <code>'.vhdr'+'.eeg/.dat'</code>
  extensions</p></dd>


</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Zhengjia Wang, Beauchamp lab.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

