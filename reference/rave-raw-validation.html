<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Validate subjects and returns whether the subject can be
imported into 'rave'"><title>Validate raw files in 'rave' directory — rave-raw-validation • raveio</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate raw files in 'rave' directory — rave-raw-validation"><meta property="og:description" content="Validate subjects and returns whether the subject can be
imported into 'rave'"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">raveio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/beauchamplab/raveio/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Validate raw files in 'rave' directory</h1>
      <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/HEAD/R/rave-raw.R" class="external-link"><code>R/rave-raw.R</code></a></small>
      <div class="d-none name"><code>rave-raw-validation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Validate subjects and returns whether the subject can be
imported into 'rave'</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">validate_raw_file</span><span class="op">(</span></span>
<span>  <span class="va">subject_code</span>,</span>
<span>  <span class="va">blocks</span>,</span>
<span>  <span class="va">electrodes</span>,</span>
<span>  <span class="va">format</span>,</span>
<span>  data_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"continuous"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">IMPORT_FORMATS</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>An object of class <code>list</code> of length 7.</p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>subject_code</dt>
<dd><p>subject code, direct folder under 'rave' raw data path</p></dd>


<dt>blocks</dt>
<dd><p>block character, direct folder under subject folder. For raw
files following 'BIDS' convention, see details</p></dd>


<dt>electrodes</dt>
<dd><p>electrodes to verify</p></dd>


<dt>format</dt>
<dd><p>integer or character. For characters, run
<code>names(IMPORT_FORMATS)</code></p></dd>


<dt>data_type</dt>
<dd><p>currently only support continuous type of signals</p></dd>


<dt>...</dt>
<dd><p>other parameters used if validating <code>'BIDS'</code> format; see
details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>logical true or false whether the directory is valid. Attributes
containing error reasons or snapshot of the data. The attributes might be:</p>
<dl><dt><code>snapshot</code></dt>
<dd><p>description of data found if passing the
validation</p></dd>

<dt><code>valid_run_names</code></dt>
<dd><p>For 'BIDS' format, valid
<code>session+task+run</code> name if passing the validation</p></dd>

<dt><code>reason</code></dt>
<dd><p>named list where the names are the
reason why validation fails and values are corresponding sessions
or electrodes or both.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Six types of raw file structures are supported. They can be basically
classified into two categories: 'rave' native raw structure and
'BIDS-iEEG' structure.</p>
<p>In 'rave' native structure, subject folders
are stored within the root directory, which can be obtained via
<code>raveio_getopt('raw_data_dir')</code>. Subject directory is the subject code.
Inside of subject folder are block files. In 'rave', term 'block'
is the combination of session, task, and run. Within each block, there
should be 'iEEG' data files.</p>
<p>In 'BIDS-iEEG' format, the root directory can be obtained via
<code>raveio_getopt('bids_data_dir')</code>. 'BIDS' root folder contains
project folders. This is unlike 'rave' native raw data format.
Subject folders are stored within the project directories.
The subject folders start with <code>'sub-'</code>. Within subject
folder, there are session folders with prefix <code>'ses-'</code>. Session
folders are optional. 'iEEG' data is stored in <code>'ieeg'</code> folder under
the session/subject folder. <code>'ieeg'</code> folder should contain at least</p><dl><dt>electrodes.tsv</dt>
<dd><p><code>sub-&lt;label&gt;*_electrodes.tsv</code></p></dd>

<dt>'iEEG' description</dt>
<dd><p><code>sub-&lt;label&gt;*_task-&lt;label&gt;_run-&lt;index&gt;_ieeg.json</code></p></dd>

<dt>'iEEG' data file</dt>
<dd><p><code>sub-&lt;label&gt;*_task-&lt;label&gt;_run-&lt;index&gt;_ieeg.&lt;ext&gt;</code>, in current
  'rave', only extensions <code>'.vhdr+.eeg/.dat'</code> ('BrainVision') or 'EDF'
  (or plus) are supported.</p></dd>


</dl><p>When format is 'BIDS', <code>project_name</code> must be specified.</p>
<p>The following formats are supported:</p><dl><dt><code>'.mat/.h5 file per electrode per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains multiple
  'Matlab' or 'HDF5' files. Each file corresponds to a channel/electrode.
  File names should follow <code>'xxx001.mat'</code> or <code>'xxx001.h5'</code>. The
  numbers before the extension are channel numbers.</p></dd>

<dt><code>'Single .mat/.h5 file per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains <strong>only</strong> one
  'Matlab' or 'HDF5' file. The file name can be arbitrary, but extension
  must be either <code>'.mat'</code> or <code>'.h5'</code>. Within the file there should
  be a matrix containing all the data. The short dimension of the matrix
  will be channels, and larger side of the dimension corresponds to the
  time points.</p></dd>

<dt><code>'Single EDF(+) file per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains <strong>only</strong> one
  <code>'.edf'</code> file.</p></dd>

<dt><code>'Single BrainVision file (.vhdr+.eeg, .vhdr+.dat) per block'</code></dt>
<dd><p>'rave' native raw format, each block folder contains <strong>only</strong> two
  files. The first file is header <code>'.vhdr'</code> file. It contains
  all meta information. The second is either <code>'.eeg'</code> or <code>'.dat'</code>
  file containing the body, i.e. signal entries.</p></dd>

<dt><code>'BIDS &amp; EDF(+)'</code></dt>
<dd><p>'BIDS' format. The data file should have <code>'.edf'</code> extension</p></dd>

<dt><code>'BIDS &amp; BrainVision (.vhdr+.eeg, .vhdr+.dat)'</code></dt>
<dd><p>'BIDS' format. The data file should have <code>'.vhdr'+'.eeg/.dat'</code>
  extensions</p></dd>


</dl></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Zhengjia Wang, Beauchamp lab.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

