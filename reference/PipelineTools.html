<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Class definition for pipeline tools
Class definition for pipeline tools"><title>Class definition for pipeline tools — PipelineTools • raveio</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class definition for pipeline tools — PipelineTools"><meta property="og:description" content="Class definition for pipeline tools
Class definition for pipeline tools"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">raveio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.39</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/beauchamplab/raveio/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Class definition for pipeline tools</h1>
      <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/HEAD/R/class-pipeline_tools.R" class="external-link"><code>R/class-pipeline_tools.R</code></a></small>
      <div class="d-none name"><code>PipelineTools.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Class definition for pipeline tools</p>
<p>Class definition for pipeline tools</p>
    </div>


    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The value of the inputs, or a list if <code>key</code> is missing</p>


<p>The values of the targets</p>


<p>A <code><a href="PipelineResult.html">PipelineResult</a></code> instance if <code>as_promise</code></p>


<p>or <code>async</code> is true; otherwise a list of values for input <code>names</code></p>



<p>An environment of shared variables</p>


<p>See <code>type</code></p>



<p>A table of the progress</p>


<p>Nothing</p>


<p>A new pipeline object based on the path given</p>


<p>the saved file path</p>


<p>the data if file is found or a default value</p>


<p>A persistent map, see <code><a href="https://dipterix.org/dipsaus/reference/map.html" class="external-link">rds_map</a></code></p>



<p>A persistent map, see <code><a href="https://dipterix.org/dipsaus/reference/map.html" class="external-link">rds_map</a></code></p>


    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="pipeline.html">pipeline</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>settings_path</code></dt>
<dd><p>absolute path to the settings file</p></dd>


<dt><code>extdata_path</code></dt>
<dd><p>absolute path to the user-defined pipeline data folder</p></dd>


<dt><code>preference_path</code></dt>
<dd><p>directory to the pipeline preference folder</p></dd>


<dt><code>target_table</code></dt>
<dd><p>table of target names and their descriptions</p></dd>


<dt><code>result_table</code></dt>
<dd><p>summary of the results, including
signatures of data and commands</p></dd>


<dt><code>pipeline_path</code></dt>
<dd><p>the absolute path of the pipeline</p></dd>


<dt><code>pipeline_name</code></dt>
<dd><p>the code name of the pipeline</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-PipelineTools-new"><code>PipelineTools$new()</code></a></p></li>
<li><p><a href="#method-PipelineTools-set_settings"><code>PipelineTools$set_settings()</code></a></p></li>
<li><p><a href="#method-PipelineTools-get_settings"><code>PipelineTools$get_settings()</code></a></p></li>
<li><p><a href="#method-PipelineTools-read"><code>PipelineTools$read()</code></a></p></li>
<li><p><a href="#method-PipelineTools-run"><code>PipelineTools$run()</code></a></p></li>
<li><p><a href="#method-PipelineTools-eval"><code>PipelineTools$eval()</code></a></p></li>
<li><p><a href="#method-PipelineTools-shared_env"><code>PipelineTools$shared_env()</code></a></p></li>
<li><p><a href="#method-PipelineTools-python_module"><code>PipelineTools$python_module()</code></a></p></li>
<li><p><a href="#method-PipelineTools-progress"><code>PipelineTools$progress()</code></a></p></li>
<li><p><a href="#method-PipelineTools-attach"><code>PipelineTools$attach()</code></a></p></li>
<li><p><a href="#method-PipelineTools-visualize"><code>PipelineTools$visualize()</code></a></p></li>
<li><p><a href="#method-PipelineTools-fork"><code>PipelineTools$fork()</code></a></p></li>
<li><p><a href="#method-PipelineTools-with_activated"><code>PipelineTools$with_activated()</code></a></p></li>
<li><p><a href="#method-PipelineTools-clean"><code>PipelineTools$clean()</code></a></p></li>
<li><p><a href="#method-PipelineTools-save_data"><code>PipelineTools$save_data()</code></a></p></li>
<li><p><a href="#method-PipelineTools-load_data"><code>PipelineTools$load_data()</code></a></p></li>
<li><p><a href="#method-PipelineTools-load_preferences"><code>PipelineTools$load_preferences()</code></a></p></li>
<li><p><a href="#method-PipelineTools-load_global_preferences"><code>PipelineTools$load_global_preferences()</code></a></p></li>
<li><p><a href="#method-PipelineTools-clone"><code>PipelineTools$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-PipelineTools-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>construction function</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/PipelineTools.html">PipelineTools</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">pipeline_name</span>,</span>
<span>  settings_file <span class="op">=</span> <span class="st">"settings.yaml"</span>,</span>
<span>  paths <span class="op">=</span> <span class="fu"><a href="../reference/rave-pipeline.html">pipeline_root</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  temporary <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>pipeline_name</code></dt>
<dd><p>name of the pipeline, usually in the pipeline
<code>'DESCRIPTION'</code> file, or pipeline folder name</p></dd>


<dt><code>settings_file</code></dt>
<dd><p>the file name of the settings file, where the
user inputs are stored</p></dd>


<dt><code>paths</code></dt>
<dd><p>the paths to find the pipeline, usually the parent folder
of the pipeline; default is <code><a href="rave-pipeline.html">pipeline_root()</a></code></p></dd>


<dt><code>temporary</code></dt>
<dd><p>whether not to save <code>paths</code> to current pipeline
root registry. Set this to <code>TRUE</code> when importing pipelines
from subject pipeline folders</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-set_settings"></a><div class="section">
<h3 id="method-set-settings-">Method <code>set_settings()</code><a class="anchor" aria-label="anchor" href="#method-set-settings-"></a></h3>
<p>set inputs</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">set_settings</span><span class="op">(</span><span class="va">...</span>, .list <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>..., .list</code></dt>
<dd><p>named list of inputs; all inputs should be named,
otherwise errors will be raised</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-get_settings"></a><div class="section">
<h3 id="method-get-settings-">Method <code>get_settings()</code><a class="anchor" aria-label="anchor" href="#method-get-settings-"></a></h3>
<p>get current inputs</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">get_settings</span><span class="op">(</span><span class="va">key</span>, default <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">constraint</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>the input name; default is missing, i.e., to get all the
settings</p></dd>


<dt><code>default</code></dt>
<dd><p>default value if not found</p></dd>


<dt><code>constraint</code></dt>
<dd><p>the constraint of the results; if input value is not
from <code>constraint</code>, then only the first element of <code>constraint</code>
will be returned.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-read"></a><div class="section">
<h3 id="method-read-">Method <code>read()</code><a class="anchor" aria-label="anchor" href="#method-read-"></a></h3>
<p>read intermediate variables</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="va">var_names</span>, ifnotfound <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>var_names</code></dt>
<dd><p>the target names, can be obtained via
<code>x$target_table</code> member; default is missing, i.e., to read
all the intermediate variables</p></dd>


<dt><code>ifnotfound</code></dt>
<dd><p>variable default value if not found</p></dd>


<dt><code>...</code></dt>
<dd><p>other parameters passing to <code><a href="rave-pipeline.html">pipeline_read</a></code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-run"></a><div class="section">
<h3 id="method-run-">Method <code>run()</code><a class="anchor" aria-label="anchor" href="#method-run-"></a></h3>
<p>run the pipeline</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  async <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  as_promise <span class="op">=</span> <span class="va">async</span>,</span>
<span>  scheduler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"future"</span>, <span class="st">"clustermq"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"smart"</span>, <span class="st">"callr"</span>, <span class="st">"vanilla"</span><span class="op">)</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">new.env</a></span><span class="op">(</span>parent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">globalenv</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  callr_function <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_values <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>names</code></dt>
<dd><p>pipeline variable names to calculate; default is to
calculate all the targets</p></dd>


<dt><code>async</code></dt>
<dd><p>whether to run asynchronous in another process</p></dd>


<dt><code>as_promise</code></dt>
<dd><p>whether to return a <code><a href="PipelineResult.html">PipelineResult</a></code>
instance</p></dd>


<dt><code>scheduler, type, envir, callr_function, return_values, ...</code></dt>
<dd><p>passed to
<code><a href="rave-pipeline.html">pipeline_run</a></code> if <code>as_promise</code> is true, otherwise
these arguments will be passed to <code>pipeline_run_bare</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-eval"></a><div class="section">
<h3 id="method-eval-">Method <code><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval()</a></code><a class="anchor" aria-label="anchor" href="#method-eval-"></a></h3>
<p>run the pipeline in order; unlike <code>$run()</code>, this method
does not use the <code>targets</code> infrastructure, hence the pipeline
results will not be stored, and the order of <code>names</code> will be
respected.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">eval</span><span class="op">(</span><span class="va">names</span>, env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>, clean <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>names</code></dt>
<dd><p>pipeline variable names to calculate; must be specified</p></dd>


<dt><code>env</code></dt>
<dd><p>environment to evaluate and store the results</p></dd>


<dt><code>clean</code></dt>
<dd><p>whether to evaluate without polluting <code>env</code></p></dd>


<dt><code>...</code></dt>
<dd><p>passed to <code><a href="rave-pipeline.html">pipeline_eval</a></code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-shared_env"></a><div class="section">
<h3 id="method-shared-env-">Method <code>shared_env()</code><a class="anchor" aria-label="anchor" href="#method-shared-env-"></a></h3>
<p>run the pipeline shared library in scripts starting with
path <code>R/shared</code></p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">shared_env</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PipelineTools-python_module"></a><div class="section">
<h3 id="method-python-module-">Method <code>python_module()</code><a class="anchor" aria-label="anchor" href="#method-python-module-"></a></h3>
<p>get 'Python' module embedded in the pipeline</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">python_module</span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"info"</span>, <span class="st">"module"</span>, <span class="st">"shared"</span>, <span class="st">"exist"</span><span class="op">)</span>,</span>
<span>  must_work <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>type</code></dt>
<dd><p>return type, choices are <code>'info'</code> (get basic information
such as module path, default), <code>'module'</code> (load module and return
it), <code>'shared'</code> (load a shared sub-module from the module, which
is shared also in report script), and <code>'exist'</code> (returns true
or false on whether the module exists or not)</p></dd>


<dt><code>must_work</code></dt>
<dd><p>whether the module needs to be existed or not. If
<code>TRUE</code>, the raise errors when the module does not exist; default
is <code>TRUE</code>, ignored when <code>type</code> is <code>'exist'</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-progress"></a><div class="section">
<h3 id="method-progress-">Method <code>progress()</code><a class="anchor" aria-label="anchor" href="#method-progress-"></a></h3>
<p>get progress of the pipeline</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">progress</span><span class="op">(</span>method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"details"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>method</code></dt>
<dd><p>either <code>'summary'</code> or <code>'details'</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-attach"></a><div class="section">
<h3 id="method-attach-">Method <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach()</a></code><a class="anchor" aria-label="anchor" href="#method-attach-"></a></h3>
<p>attach pipeline tool to environment (internally used)</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="kw">attach</span><span class="op">(</span><span class="va">env</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>env</code></dt>
<dd><p>an environment</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-visualize"></a><div class="section">
<h3 id="method-visualize-">Method <code>visualize()</code><a class="anchor" aria-label="anchor" href="#method-visualize-"></a></h3>
<p>visualize pipeline target dependency graph</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">visualize</span><span class="op">(</span></span>
<span>  glimpse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  aspect_ratio <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  node_size <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  label_size <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>glimpse</code></dt>
<dd><p>whether to glimpse the graph network or render the state</p></dd>


<dt><code>aspect_ratio</code></dt>
<dd><p>controls node spacing</p></dd>


<dt><code>node_size, label_size</code></dt>
<dd><p>size of nodes and node labels</p></dd>


<dt><code>...</code></dt>
<dd><p>passed to <code><a href="rave-pipeline.html">pipeline_visualize</a></code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-fork"></a><div class="section">
<h3 id="method-fork-">Method <code>fork()</code><a class="anchor" aria-label="anchor" href="#method-fork-"></a></h3>
<p>fork (copy) the current pipeline to a new directory</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">fork</span><span class="op">(</span><span class="va">path</span>, filter_pattern <span class="op">=</span> <span class="va">PIPELINE_FORK_PATTERN</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>path to the new pipeline, a folder will be created there</p></dd>


<dt><code>filter_pattern</code></dt>
<dd><p>file pattern to copy</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-with_activated"></a><div class="section">
<h3 id="method-with-activated-">Method <code>with_activated()</code><a class="anchor" aria-label="anchor" href="#method-with-activated-"></a></h3>
<p>run code with pipeline activated, some environment variables
and function behaviors might change under such condition (for example,
<code>targets</code> package functions)</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">with_activated</span><span class="op">(</span><span class="va">expr</span>, quoted <span class="op">=</span> <span class="cn">FALSE</span>, env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>expr</code></dt>
<dd><p>expression to evaluate</p></dd>


<dt><code>quoted</code></dt>
<dd><p>whether <code>expr</code> is quoted; default is false</p></dd>


<dt><code>env</code></dt>
<dd><p>environment to run <code>expr</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-clean"></a><div class="section">
<h3 id="method-clean-">Method <code>clean()</code><a class="anchor" aria-label="anchor" href="#method-clean-"></a></h3>
<p>clean all or part of the data store</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">clean</span><span class="op">(</span></span>
<span>  destroy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"cloud"</span>, <span class="st">"local"</span>, <span class="st">"meta"</span>, <span class="st">"process"</span>, <span class="st">"preferences"</span>, <span class="st">"progress"</span>,</span>
<span>    <span class="st">"objects"</span>, <span class="st">"scratch"</span>, <span class="st">"workspaces"</span><span class="op">)</span>,</span>
<span>  ask <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>destroy, ask</code></dt>
<dd><p>see <code><a href="https://docs.ropensci.org/targets/reference/tar_destroy.html" class="external-link">tar_destroy</a></code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-save_data"></a><div class="section">
<h3 id="method-save-data-">Method <code>save_data()</code><a class="anchor" aria-label="anchor" href="#method-save-data-"></a></h3>
<p>save data to pipeline data folder</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">save_data</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">name</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"json"</span>, <span class="st">"yaml"</span>, <span class="st">"csv"</span>, <span class="st">"fst"</span>, <span class="st">"rds"</span><span class="op">)</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>R object</p></dd>


<dt><code>name</code></dt>
<dd><p>the name of the data to save, must start with letters</p></dd>


<dt><code>format</code></dt>
<dd><p>serialize format, choices are <code>'json'</code>,
<code>'yaml'</code>, <code>'csv'</code>, <code>'fst'</code>, <code>'rds'</code>; default is
<code>'json'</code>. To save arbitrary objects such as functions or
environments, use <code>'rds'</code></p></dd>


<dt><code>overwrite</code></dt>
<dd><p>whether to overwrite existing files; default is no</p></dd>


<dt><code>...</code></dt>
<dd><p>passed to saver functions</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-load_data"></a><div class="section">
<h3 id="method-load-data-">Method <code>load_data()</code><a class="anchor" aria-label="anchor" href="#method-load-data-"></a></h3>
<p>load data from pipeline data folder</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">load_data</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  error_if_missing <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  default_if_missing <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"json"</span>, <span class="st">"yaml"</span>, <span class="st">"csv"</span>, <span class="st">"fst"</span>, <span class="st">"rds"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>the name of the data</p></dd>


<dt><code>error_if_missing</code></dt>
<dd><p>whether to raise errors if the name is missing</p></dd>


<dt><code>default_if_missing</code></dt>
<dd><p>default values to return if the name is missing</p></dd>


<dt><code>format</code></dt>
<dd><p>the format of the data, default is automatically obtained
from the file extension</p></dd>


<dt><code>...</code></dt>
<dd><p>passed to loader functions</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-load_preferences"></a><div class="section">
<h3 id="method-load-preferences-">Method <code>load_preferences()</code><a class="anchor" aria-label="anchor" href="#method-load-preferences-"></a></h3>
<p>load persistent preference settings from the pipeline.
The preferences should not affect how pipeline is working, hence usually
stores minor variables such as graphic options. Changing preferences
will not invalidate pipeline cache.</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">load_preferences</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .initial_prefs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>preference name, must contain only letters, digits,
underscore, and hyphen, will be coerced to lower case (case-insensitive)</p></dd>


<dt><code>..., .initial_prefs</code></dt>
<dd><p>key-value pairs of initial preference values</p></dd>


<dt><code>.overwrite</code></dt>
<dd><p>whether to overwrite the initial preference values
if they exist.</p></dd>


<dt><code>.verbose</code></dt>
<dd><p>whether to verbose the preferences to be saved; default
is false; turn on for debug use</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-load_global_preferences"></a><div class="section">
<h3 id="method-load-global-preferences-">Method <code>load_global_preferences()</code><a class="anchor" aria-label="anchor" href="#method-load-global-preferences-"></a></h3>
<p>load persistent global preference settings that can be
accessed across modules, pipelines, and R sessions.
The preferences should not affect how pipeline is working, hence usually
stores minor variables such as graphic options. Changing preferences
will not invalidate pipeline cache. Developers should
maintain and check the preferences at their own risks.</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">load_global_preferences</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .initial_prefs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-16">Arguments<a class="anchor" aria-label="anchor" href="#arguments-16"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>preference name, must contain only letters, digits,
underscore, and hyphen, will be coerced to lower case (case-insensitive)</p></dd>


<dt><code>..., .initial_prefs</code></dt>
<dd><p>key-value pairs of initial preference values</p></dd>


<dt><code>.overwrite</code></dt>
<dd><p>whether to overwrite the initial preference values
if they exist.</p></dd>


<dt><code>.verbose</code></dt>
<dd><p>whether to verbose the preferences to be saved; default
is false; turn on for debug use</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PipelineTools-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PipelineTools</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-17">Arguments<a class="anchor" aria-label="anchor" href="#arguments-17"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Zhengjia Wang, Beauchamp lab.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

