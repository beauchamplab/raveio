<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import data into 'rave' projects — rave_import • raveio</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import data into 'rave' projects — rave_import"><meta name="description" content="Import files with predefined structures. Supported file
formats include 'Matlab', 'HDF5', 'EDF(+)', 'BrainVision'
('.eeg/.dat/.vhdr'). Supported file structures include 'rave' native
structure and 'BIDS' (very limited) format. Please see
https://openwetware.org/wiki/RAVE:ravepreprocess for tutorials."><meta property="og:description" content="Import files with predefined structures. Supported file
formats include 'Matlab', 'HDF5', 'EDF(+)', 'BrainVision'
('.eeg/.dat/.vhdr'). Supported file structures include 'rave' native
structure and 'BIDS' (very limited) format. Please see
https://openwetware.org/wiki/RAVE:ravepreprocess for tutorials."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">raveio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.71</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beauchamplab/raveio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Import data into 'rave' projects</h1>
      <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/master/R/rave-import.R" class="external-link"><code>R/rave-import.R</code></a></small>
      <div class="d-none name"><code>rave_import.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Import files with predefined structures. Supported file
formats include 'Matlab', 'HDF5', 'EDF(+)', 'BrainVision'
(<code>'.eeg/.dat/.vhdr'</code>). Supported file structures include 'rave' native
structure and 'BIDS' (very limited) format. Please see
<a href="https://openwetware.org/wiki/RAVE:ravepreprocess" class="external-link">https://openwetware.org/wiki/RAVE:ravepreprocess</a> for tutorials.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rave_import</span><span class="op">(</span></span>
<span>  <span class="va">project_name</span>,</span>
<span>  <span class="va">subject_code</span>,</span>
<span>  <span class="va">blocks</span>,</span>
<span>  <span class="va">electrodes</span>,</span>
<span>  <span class="va">format</span>,</span>
<span>  <span class="va">sample_rate</span>,</span>
<span>  conversion <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  data_type <span class="op">=</span> <span class="st">"LFP"</span>,</span>
<span>  task_runs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-project-name">project_name<a class="anchor" aria-label="anchor" href="#arg-project-name"></a></dt>
<dd><p>project name, for 'rave' native structure, this can be
any character; for 'BIDS' format, this must be consistent with 'BIDS'
project name. For subjects with multiple tasks, see Section "'RAVE' Project"</p></dd>


<dt id="arg-subject-code">subject_code<a class="anchor" aria-label="anchor" href="#arg-subject-code"></a></dt>
<dd><p>subject code in character. For 'rave' native structure,
this is a folder name under raw directory. For 'BIDS', this is subject
label without <code>"sub-"</code> prefix</p></dd>


<dt id="arg-blocks">blocks<a class="anchor" aria-label="anchor" href="#arg-blocks"></a></dt>
<dd><p>characters, for 'rave' native format, this is the folder names
subject directory; for 'BIDS', this is session name with <code>"ses-"</code>.
Section "Block vs. Session" for different meaning of "blocks" in 'rave'
and 'BIDS'</p></dd>


<dt id="arg-electrodes">electrodes<a class="anchor" aria-label="anchor" href="#arg-electrodes"></a></dt>
<dd><p>integers electrode numbers</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>integer from 1 to 6, or character. For characters, you can get
options by running <code>names(IMPORT_FORMATS)</code></p></dd>


<dt id="arg-sample-rate">sample_rate<a class="anchor" aria-label="anchor" href="#arg-sample-rate"></a></dt>
<dd><p>sample frequency, must be positive</p></dd>


<dt id="arg-conversion">conversion<a class="anchor" aria-label="anchor" href="#arg-conversion"></a></dt>
<dd><p>physical unit conversion, choices are <code>NA</code>,
<code>V</code>, <code>mV</code>, <code>uV</code></p></dd>


<dt id="arg-data-type">data_type<a class="anchor" aria-label="anchor" href="#arg-data-type"></a></dt>
<dd><p>electrode signal type; see <code><a href="raveio-constants.html">SIGNAL_TYPES</a></code></p></dd>


<dt id="arg-task-runs">task_runs<a class="anchor" aria-label="anchor" href="#arg-task-runs"></a></dt>
<dd><p>for 'BIDS' formats only, see Section "Block vs. Session"</p></dd>


<dt id="arg-add">add<a class="anchor" aria-label="anchor" href="#arg-add"></a></dt>
<dd><p>whether to add electrodes. If set to true, then only new
electrodes are allowed to be imported, blocks will be ignored and trying to
import electrodes that have been imported will still result in error.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other parameters</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>None</p>
    </div>
    <div class="section level2">
    <h2 id="-rave-project">'RAVE' Project<a class="anchor" aria-label="anchor" href="#-rave-project"></a></h2>


<p>A 'rave' project can be very flexible. A project can refer to a task, a
research objective, or "arbitrarily" as long as you find common research
interests among subjects. One subject can appear in multiple projects with
different blocks, hence <code>project_name</code> should be
objective-based. There is no concept of "project" in 'rave' raw directory.
When importing data, you choose subset of blocks from subjects forming
a project.</p>
<p>When importing 'BIDS' data into 'rave', <code>project_name</code> must be
consistent with 'BIDS' project name as a compromise. Once imported,
you may change the project folder name in imported rave data
directory to other names. Because once raw traces are imported,
'rave' data will become self-contained
and 'BIDS' data are no longer required for analysis.
This naming inconsistency will also be ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="block-vs-session">Block vs. Session<a class="anchor" aria-label="anchor" href="#block-vs-session"></a></h2>


<p>'rave' and 'BIDS' have different definitions for a "chunk" of signals.
In 'rave', we use "block". it means
combination of session (days), task, and run, i.e. a block of continuous
signals captured. Raw data files are supposed to be stored in file
hierarchy of <code>&lt;raw-root&gt;/&lt;subject_code&gt;/&lt;block&gt;/&lt;datafiles&gt;</code>.
In 'BIDS', sessions, tasks, and runs are separated, and only session names
are indicated under subject folder. Because some previous compatibility
issues, argument <code>'block'</code> refers to direct folder names under
subject directories.
This means when importing data from 'BIDS' format, <code>block</code> argument
needs to be session names to comply with <code>'subject/block'</code> structure,
and there is an additional mandatory argument <code>task_runs</code>
especially designed for 'BIDS' format.</p>
<p>For 'rave' native raw data format, <code>block</code> will be as-is once imported.
<br>
For 'BIDS' format, <code>task_runs</code> will be treated as blocks once imported.</p>
    </div>
    <div class="section level2">
    <h2 id="file-formats">File Formats<a class="anchor" aria-label="anchor" href="#file-formats"></a></h2>


<p>Following file structure. Here use project <code>"demo"</code> and subject
<code>"YAB"</code> and block <code>"008")</code>, electrode <code>14</code> as an example.</p><dl><dt><code>format=1</code>, or <code>".mat/.h5 file per electrode per block"</code></dt>
<dd><p>folder <code>&lt;raw&gt;/YAB/008</code> contains 'Matlab' or 'HDF5' files per electrode.
Data file name should look like <code>"xxx_14.mat"</code></p></dd>

<dt><code>format=2</code>, or <code>"Single .mat/.h5 file per block"</code></dt>
<dd><p><code>&lt;raw&gt;/YAB/008</code> contains only one 'Matlab' or 'HDF5' file. Data within
the file should be a 2-dimensional matrix, where the column 14 is
signal recorded from electrode 14</p></dd>

<dt><code>format=3</code>, or <code>"Single EDF(+) file per block"</code></dt>
<dd><p><code>&lt;raw&gt;/YAB/008</code> contains only one <code>'edf'</code> file</p></dd>

<dt><code>format=4</code>, or <code>
"Single BrainVision file (.vhdr+.eeg, .vhdr+.dat) per block"</code></dt>
<dd><p><code>&lt;raw&gt;/YAB/008</code> contains only one <code>'vhdr'</code> file, and
the data file must be inferred from the header file</p></dd>

<dt><code>format=5</code>, or <code>"BIDS &amp; EDF(+)"</code></dt>
<dd><p><code>&lt;bids&gt;/demo/sub-YAB/ses-008/</code> must contains <code>*_electrodes.tsv</code>,
each run must have channel file. The channel files and electrode file
must be consistent in names.
<br>
Argument <code>task_runs</code> is mandatory, characters, combination of session,
task name, and run number. For example, a task header file in BIDS with name
<code>'sub-YAB_ses-008_task-visual_run-01_ieeg.edf'</code> has <code>task_runs</code>
name as <code>'008-visual-01'</code>, where the first <code>'008'</code> refers
to session, <code>'visual'</code> is task name, and the second <code>'01'</code> is
run number.</p></dd>

<dt><code>format=6</code>, or <code>
"BIDS &amp; BrainVision (.vhdr+.eeg, .vhdr+.dat)"</code></dt>
<dd><p>Same as previous format <code>"BIDS &amp; EDF(+)"</code>, but data files have
'BrainVision' formats.</p></dd>


</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

