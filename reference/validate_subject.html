<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Validate subject data integrity — validate_subject • raveio</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Validate subject data integrity — validate_subject"><meta property="og:description" content="Check against existence, validity, and consistency"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raveio</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.7.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/beauchamplab/raveio/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Validate subject data integrity</h1>
    <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/HEAD/R/validate-subject.R" class="external-link"><code>R/validate-subject.R</code></a></small>
    <div class="hidden name"><code>validate_subject.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Check against existence, validity, and consistency</p>
    </div>


    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>subject</dt>
<dd><p>subject ID (character), or <code><a href="RAVESubject.html">RAVESubject</a></code> instance</p></dd>


<dt>method</dt>
<dd><p>validation method, choices are <code>'normal'</code> (default) or
<code>'basic'</code> for fast checks; if set to <code>'normal'</code>, four additional
validation parts will be tested (see parts with <code>*</code> in Section 'Value').</p></dd>


<dt>verbose</dt>
<dd><p>whether to print out the validation messages</p></dd>


<dt>version</dt>
<dd><p>data version, choices are <code>1</code> for 'RAVE' 1.0 data format,
and <code>2</code> ('RAVE' 2.0 data format); default is <code>2</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of nested validation results. The validation process
consists of the following parts in order:</p><dl><dt><strong>Data paths</strong> (<code>paths</code>)</dt>
<dd></dd>

<dt><code>path</code></dt>
<dd><p>the subject's root folder</p></dd>

<dt><code>path</code></dt>
<dd><p>the subject's 'RAVE' folder (the <code>'rave'</code> folder under the root directory)</p></dd>

<dt><code>raw_path</code></dt>
<dd><p>the subject's raw data folder</p></dd>

<dt><code>data_path</code></dt>
<dd><p>a directory storing all the voltage, power, phase data (before reference)</p></dd>

<dt><code>meta_path</code></dt>
<dd><p>meta directory containing all the electrode coordinates, reference table, epoch information, etc.</p></dd>

<dt><code>reference_path</code></dt>
<dd><p>a directory storing calculated reference signals</p></dd>

<dt><code>preprocess_path</code></dt>
<dd><p>a directory storing all the preprocessing information</p></dd>

<dt><code>cache_path</code> (low priority)</dt>
<dd><p>data caching path</p></dd>

<dt><code>freesurfer_path</code> (low priority)</dt>
<dd><p>subject's 'FreeSurfer' directory</p></dd>

<dt><code>note_path</code> (low priority)</dt>
<dd><p>subject's notes</p></dd>

<dt><code>pipeline_path</code> (low priority)</dt>
<dd><p>a folder containing all saved pipelines for this subject</p></dd>


<dt><strong>Preprocessing information</strong> (<code>preprocess</code>)</dt>
<dd></dd>

<dt><code>electrodes_set</code></dt>
<dd><p>whether the subject has a non-empty electrode set</p></dd>

<dt><code>blocks_set</code></dt>
<dd><p>whether the session block length is non-zero</p></dd>

<dt><code>sample_rate_set</code></dt>
<dd><p>whether the raw sampling frequency is set to a valid, proper positive number</p></dd>

<dt><code>data_imported</code></dt>
<dd><p>whether all the assigning electrodes have been imported</p></dd>

<dt><code>notch_filtered</code></dt>
<dd><p>whether all the 'LFP' and 'EKG' signals have been 'Notch' filtered</p></dd>

<dt><code>has_wavelet</code></dt>
<dd><p>whether all the 'LFP' signals are wavelet-transformed</p></dd>

<dt><code>has_reference</code></dt>
<dd><p>at least one reference has been generated in the meta folder</p></dd>

<dt><code>has_epoch</code></dt>
<dd><p>at least one epoch file has been generated in the meta folder</p></dd>

<dt><code>has_electrode_file</code></dt>
<dd><p>meta folder has <code>electrodes.csv</code> file</p></dd>


<dt><strong>Meta information</strong> (<code>meta</code>)</dt>
<dd></dd>

<dt><code>meta_data_valid</code></dt>
<dd><p>this item only exists when the previous preprocess validation is failed or incomplete</p></dd>

<dt><code>meta_electrode_table</code></dt>
<dd><p>the <code>electrodes.csv</code> file in the meta folder has correct format and consistent electrodes numbers to the preprocess information</p></dd>

<dt><code>meta_reference_xxx</code></dt>
<dd><p>(<code>xxx</code> will be replaced with actual reference names) checks whether the reference table contains all electrodes and whether each reference data exists</p></dd>

<dt><code>meta_epoch_xxx</code></dt>
<dd><p>(<code>xxx</code> will be replaced with actual epoch names) checks whether the epoch table has the correct formats and whether there are missing blocks indicated in the epoch files</p></dd>


<dt><strong>Voltage data</strong> (<code>voltage_data*</code>)</dt>
<dd></dd>

<dt><code>voltage_preprocessing</code></dt>
<dd><p>whether the raw preprocessing voltage data are valid. This includes data lengths are the same within the same blocks for each signal type</p></dd>

<dt><code>voltage_data</code></dt>
<dd><p>whether the voltage data (after 'Notch' filters) exist and readable. Besides, the lengths of the data must be consistent with the raw signals</p></dd>


<dt><strong>Spectral power and phase</strong> (<code>power_phase_data*</code>)</dt>
<dd></dd>

<dt><code>power_data</code></dt>
<dd><p>whether the power data exists for all 'LFP' signals. Besides, to pass the validation process, the frequency and time-point lengths must be consistent with the preprocess record</p></dd>

<dt><code>power_data</code></dt>
<dd><p>same as <code>power_data</code> but for the phase data</p></dd>


<dt><strong>Epoch table</strong> (<code>epoch_tables*</code>)</dt>
<dd><p>One or more sub-items depending on the number of epoch tables. To pass the validation, the event time for each session block must not exceed the actual signal duration. For example, if one session lasts for 200 seconds, it will invalidate the result if a trial onset time is later than 200 seconds.</p></dd>


<dt><strong>Reference table</strong> (<code>reference_tables*</code>)</dt>
<dd><p>One or more sub-items depending on the number of reference tables. To pass the validation, the reference data must be valid. The inconsistencies, for example,
missing file, wrong frequency size, invalid time-point lengths will result
in failure</p></dd>


</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Zhengjia Wang, Beauchamp lab.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

