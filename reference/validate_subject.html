<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Validate subject data integrity — validate_subject • raveio</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate subject data integrity — validate_subject"><meta name="description" content="Check against existence, validity, and consistency"><meta property="og:description" content="Check against existence, validity, and consistency"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">raveio</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.80</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beauchamplab/raveio/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Validate subject data integrity</h1>
      <small class="dont-index">Source: <a href="https://github.com/beauchamplab/raveio/blob/master/R/validate-subject.R" class="external-link"><code>R/validate-subject.R</code></a></small>
      <div class="d-none name"><code>validate_subject.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Check against existence, validity, and consistency</p>
    </div>


    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-subject">subject<a class="anchor" aria-label="anchor" href="#arg-subject"></a></dt>
<dd><p>subject ID (character), or <code><a href="RAVESubject.html">RAVESubject</a></code> instance</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>validation method, choices are <code>'normal'</code> (default) or
<code>'basic'</code> for fast checks; if set to <code>'normal'</code>, four additional
validation parts will be tested (see parts with <code>*</code> in Section 'Value').</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>whether to print out the validation messages</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>data version, choices are <code>1</code> for 'RAVE' 1.0 data format,
and <code>2</code> ('RAVE' 2.0 data format); default is <code>2</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of nested validation results. The validation process
consists of the following parts in order:</p><dl><dt><strong>Data paths</strong> (<code>paths</code>)</dt>
<dd></dd>

<dt><code>path</code></dt>
<dd><p>the subject's root folder</p></dd>

<dt><code>path</code></dt>
<dd><p>the subject's 'RAVE' folder (the <code>'rave'</code> folder under the root directory)</p></dd>

<dt><code>raw_path</code></dt>
<dd><p>the subject's raw data folder</p></dd>

<dt><code>data_path</code></dt>
<dd><p>a directory storing all the voltage, power, phase data (before reference)</p></dd>

<dt><code>meta_path</code></dt>
<dd><p>meta directory containing all the electrode coordinates, reference table, epoch information, etc.</p></dd>

<dt><code>reference_path</code></dt>
<dd><p>a directory storing calculated reference signals</p></dd>

<dt><code>preprocess_path</code></dt>
<dd><p>a directory storing all the preprocessing information</p></dd>

<dt><code>cache_path</code> (low priority)</dt>
<dd><p>data caching path</p></dd>

<dt><code>freesurfer_path</code> (low priority)</dt>
<dd><p>subject's 'FreeSurfer' directory</p></dd>

<dt><code>note_path</code> (low priority)</dt>
<dd><p>subject's notes</p></dd>

<dt><code>pipeline_path</code> (low priority)</dt>
<dd><p>a folder containing all saved pipelines for this subject</p></dd>


<dt><strong>Preprocessing information</strong> (<code>preprocess</code>)</dt>
<dd></dd>

<dt><code>electrodes_set</code></dt>
<dd><p>whether the subject has a non-empty electrode set</p></dd>

<dt><code>blocks_set</code></dt>
<dd><p>whether the session block length is non-zero</p></dd>

<dt><code>sample_rate_set</code></dt>
<dd><p>whether the raw sampling frequency is set to a valid, proper positive number</p></dd>

<dt><code>data_imported</code></dt>
<dd><p>whether all the assigning electrodes have been imported</p></dd>

<dt><code>notch_filtered</code></dt>
<dd><p>whether all the 'LFP' and 'EKG' signals have been 'Notch' filtered</p></dd>

<dt><code>has_wavelet</code></dt>
<dd><p>whether all the 'LFP' signals are wavelet-transformed</p></dd>

<dt><code>has_reference</code></dt>
<dd><p>at least one reference has been generated in the meta folder</p></dd>

<dt><code>has_epoch</code></dt>
<dd><p>at least one epoch file has been generated in the meta folder</p></dd>

<dt><code>has_electrode_file</code></dt>
<dd><p>meta folder has <code>electrodes.csv</code> file</p></dd>


<dt><strong>Meta information</strong> (<code>meta</code>)</dt>
<dd></dd>

<dt><code>meta_data_valid</code></dt>
<dd><p>this item only exists when the previous preprocess validation is failed or incomplete</p></dd>

<dt><code>meta_electrode_table</code></dt>
<dd><p>the <code>electrodes.csv</code> file in the meta folder has correct format and consistent electrodes numbers to the preprocess information</p></dd>

<dt><code>meta_reference_xxx</code></dt>
<dd><p>(<code>xxx</code> will be replaced with actual reference names) checks whether the reference table contains all electrodes and whether each reference data exists</p></dd>

<dt><code>meta_epoch_xxx</code></dt>
<dd><p>(<code>xxx</code> will be replaced with actual epoch names) checks whether the epoch table has the correct formats and whether there are missing blocks indicated in the epoch files</p></dd>


<dt><strong>Voltage data</strong> (<code>voltage_data*</code>)</dt>
<dd></dd>

<dt><code>voltage_preprocessing</code></dt>
<dd><p>whether the raw preprocessing voltage data are valid. This includes data lengths are the same within the same blocks for each signal type</p></dd>

<dt><code>voltage_data</code></dt>
<dd><p>whether the voltage data (after 'Notch' filters) exist and readable. Besides, the lengths of the data must be consistent with the raw signals</p></dd>


<dt><strong>Spectral power and phase</strong> (<code>power_phase_data*</code>)</dt>
<dd></dd>

<dt><code>power_data</code></dt>
<dd><p>whether the power data exists for all 'LFP' signals. Besides, to pass the validation process, the frequency and time-point lengths must be consistent with the preprocess record</p></dd>

<dt><code>power_data</code></dt>
<dd><p>same as <code>power_data</code> but for the phase data</p></dd>


<dt><strong>Epoch table</strong> (<code>epoch_tables*</code>)</dt>
<dd><p>One or more sub-items depending on the number of epoch tables. To pass the validation, the event time for each session block must not exceed the actual signal duration. For example, if one session lasts for 200 seconds, it will invalidate the result if a trial onset time is later than 200 seconds.</p></dd>


<dt><strong>Reference table</strong> (<code>reference_tables*</code>)</dt>
<dd><p>One or more sub-items depending on the number of reference tables. To pass the validation, the reference data must be valid. The inconsistencies, for example,
missing file, wrong frequency size, invalid time-point lengths will result
in failure</p></dd>


</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

